---
import { getCollection } from "astro:content";
import { Picture } from "astro:assets";
import Layout from "@layouts/Layout.astro";
import Container from "@components/container.astro";
import Sectionhead from "@components/sectionhead.astro";

// Filter team entries with 'draft: false' & date before current date
const publishedTeamMembers = await getCollection("team", ({ data }) => {
  return !data.draft && data.publishDate < new Date();
});
---

<Layout title="About">
  <Container>
    <Sectionhead>
      <Fragment slot="title">About</Fragment>
      <Fragment slot="desc">We are a small passionate team.</Fragment>
    </Sectionhead>

    <div class="flex flex-col gap-3 mx-auto max-w-4xl mt-16">
      <h2 class="font-bold text-3xl text-white">
        Creating a NEW type of IT Support.
      </h2>
      <p class="text-lg leading-relaxed text-slate-300">
        We are a small team of one at the moment,  But with the goal to change the way business look at their hardware and software they use to run their day to day business.  The Open Source Alternative!  Save money by getting rid of the Licensing fees!
      </p>
    </div>
    <div class="grid md:grid-cols-3 gap-10 mx-auto max-w-4xl mt-12">
      {
        publishedTeamMembers.map((teamMemberEntry) => (
          <div class="group bg-slate-600 rounded-badge hover:-translate-y-1 hover:shadow-xl">
            <div class="w-full aspect-square">
              <Picture
                src={teamMemberEntry.data.avatar.src}
                alt={teamMemberEntry.data.avatar.alt}
                sizes="(max-width: 800px) 100vw, 400px"
                width={400}
                height={400}
                class="w-full rounded-md transition bg-white object-cover object-center aspect-square"
              />
            </div>

            <div class="mt-4 text-center group-hover:-translate-y-1 ">
              <h2 class="text-lg text-gray-200">{teamMemberEntry.data.name}</h2>
              <h3 class="text-sm text-slate-300">
                {teamMemberEntry.data.title}
              </h3>
              
            </div>
          </div>
        ))
      }
    </div>
  </Container>
</Layout>
